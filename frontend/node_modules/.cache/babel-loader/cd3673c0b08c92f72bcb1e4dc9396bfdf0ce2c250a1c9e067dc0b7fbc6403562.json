{"ast":null,"code":"var _jsxFileName = \"/Users/ywang/Desktop/fiber_monitor_display/frontend/src/components/Map/GeocoderControl.js\",\n  _s = $RefreshSig$();\n// import {useControl} from 'react-map-gl';\n// import MapboxGeocoder from '@mapbox/mapbox-gl-geocoder';\nimport { MAPBOX_TOKEN } from './Const';\n\n// function GeocoderControl(props) {\n// \tconst coordinatesGeocoder = function (query) {\n// \t\tconsole.log('query:', query)\n// \t}\n\n// \tconst geocoder = useControl(() => {\n// \t\tconst control = new MapboxGeocoder({\n// \t\t\taccessToken: MAPBOX_TOKEN,\n// \t\t\tmarker: false,\n// \t\t\tlocalGeocoder: coordinatesGeocoder,\n// \t\t\tzoom: 5,\n// \t\t\tplaceholder: 'Try: -40, 170',\n// \t\t\treverseGeocode: true\n// \t\t})\n// \t\treturn control\n// \t},{\n// \t\tposition: props.position\n// \t}\n// \t)\n// }\n\n// const noop = () => {};\n\n// GeocoderControl.defaultProps = {\n//   marker: true,\n//   onLoading: noop,\n//   onResults: noop,\n//   onResult: noop,\n//   onError: noop\n// };\n\n// export default GeocoderControl;\n\nimport * as React from 'react';\nimport { useState } from 'react';\nimport { useControl, Marker, MarkerProps, ControlPosition } from 'react-map-gl';\nimport MapboxGeocoder, { GeocoderOptions } from '@mapbox/mapbox-gl-geocoder';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function GeocoderControl(props) {\n  _s();\n  const [marker, setMarker] = useState(null);\n  const geocoder = useControl(() => {\n    const ctrl = new MapboxGeocoder({\n      ...props,\n      marker: false,\n      accessToken: MAPBOX_TOKEN\n    });\n    ctrl.on('loading', props.onLoading);\n    ctrl.on('results', props.onResults);\n    ctrl.on('result', evt => {\n      var _result$geometry;\n      props.onResult(evt);\n      const {\n        result\n      } = evt;\n      const location = result && (result.center || ((_result$geometry = result.geometry) === null || _result$geometry === void 0 ? void 0 : _result$geometry.type) === 'Point' && result.geometry.coordinates);\n      if (location && props.marker) {\n        setMarker( /*#__PURE__*/_jsxDEV(Marker, {\n          ...props.marker,\n          longitude: location[0],\n          latitude: location[1]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this));\n      } else {\n        setMarker(null);\n      }\n    });\n    ctrl.on('error', props.onError);\n    return ctrl;\n  }, {\n    position: props.position\n  });\n\n  // @ts-ignore (TS2339) private member\n  if (geocoder._map) {\n    if (geocoder.getProximity() !== props.proximity && props.proximity !== undefined) {\n      geocoder.setProximity(props.proximity);\n    }\n    if (geocoder.getRenderFunction() !== props.render && props.render !== undefined) {\n      geocoder.setRenderFunction(props.render);\n    }\n    if (geocoder.getLanguage() !== props.language && props.language !== undefined) {\n      geocoder.setLanguage(props.language);\n    }\n    if (geocoder.getZoom() !== props.zoom && props.zoom !== undefined) {\n      geocoder.setZoom(props.zoom);\n    }\n    if (geocoder.getFlyTo() !== props.flyTo && props.flyTo !== undefined) {\n      geocoder.setFlyTo(props.flyTo);\n    }\n    if (geocoder.getPlaceholder() !== props.placeholder && props.placeholder !== undefined) {\n      geocoder.setPlaceholder(props.placeholder);\n    }\n    if (geocoder.getCountries() !== props.countries && props.countries !== undefined) {\n      geocoder.setCountries(props.countries);\n    }\n    if (geocoder.getTypes() !== props.types && props.types !== undefined) {\n      geocoder.setTypes(props.types);\n    }\n    if (geocoder.getMinLength() !== props.minLength && props.minLength !== undefined) {\n      geocoder.setMinLength(props.minLength);\n    }\n    if (geocoder.getLimit() !== props.limit && props.limit !== undefined) {\n      geocoder.setLimit(props.limit);\n    }\n    if (geocoder.getFilter() !== props.filter && props.filter !== undefined) {\n      geocoder.setFilter(props.filter);\n    }\n    if (geocoder.getOrigin() !== props.origin && props.origin !== undefined) {\n      geocoder.setOrigin(props.origin);\n    }\n    // Types missing from @types/mapbox__mapbox-gl-geocoder\n    // if (geocoder.getAutocomplete() !== props.autocomplete && props.autocomplete !== undefined) {\n    //   geocoder.setAutocomplete(props.autocomplete);\n    // }\n    // if (geocoder.getFuzzyMatch() !== props.fuzzyMatch && props.fuzzyMatch !== undefined) {\n    //   geocoder.setFuzzyMatch(props.fuzzyMatch);\n    // }\n    // if (geocoder.getRouting() !== props.routing && props.routing !== undefined) {\n    //   geocoder.setRouting(props.routing);\n    // }\n    // if (geocoder.getWorldview() !== props.worldview && props.worldview !== undefined) {\n    //   geocoder.setWorldview(props.worldview);\n    // }\n  }\n\n  return marker;\n}\n_s(GeocoderControl, \"XC87UfgaWghwJAJk4RTr4LJJYDY=\", false, function () {\n  return [useControl];\n});\n_c = GeocoderControl;\nconst noop = () => {};\nGeocoderControl.defaultProps = {\n  marker: true,\n  onLoading: noop,\n  onResults: noop,\n  onResult: noop,\n  onError: noop\n};\nvar _c;\n$RefreshReg$(_c, \"GeocoderControl\");","map":{"version":3,"names":["MAPBOX_TOKEN","React","useState","useControl","Marker","MarkerProps","ControlPosition","MapboxGeocoder","GeocoderOptions","jsxDEV","_jsxDEV","GeocoderControl","props","_s","marker","setMarker","geocoder","ctrl","accessToken","on","onLoading","onResults","evt","_result$geometry","onResult","result","location","center","geometry","type","coordinates","longitude","latitude","fileName","_jsxFileName","lineNumber","columnNumber","onError","position","_map","getProximity","proximity","undefined","setProximity","getRenderFunction","render","setRenderFunction","getLanguage","language","setLanguage","getZoom","zoom","setZoom","getFlyTo","flyTo","setFlyTo","getPlaceholder","placeholder","setPlaceholder","getCountries","countries","setCountries","getTypes","types","setTypes","getMinLength","minLength","setMinLength","getLimit","limit","setLimit","getFilter","filter","setFilter","getOrigin","origin","setOrigin","_c","noop","defaultProps","$RefreshReg$"],"sources":["/Users/ywang/Desktop/fiber_monitor_display/frontend/src/components/Map/GeocoderControl.js"],"sourcesContent":["// import {useControl} from 'react-map-gl';\n// import MapboxGeocoder from '@mapbox/mapbox-gl-geocoder';\nimport { MAPBOX_TOKEN } from './Const'\n\n// function GeocoderControl(props) {\n// \tconst coordinatesGeocoder = function (query) {\n// \t\tconsole.log('query:', query)\n// \t}\n\n// \tconst geocoder = useControl(() => {\n// \t\tconst control = new MapboxGeocoder({\n// \t\t\taccessToken: MAPBOX_TOKEN,\n// \t\t\tmarker: false,\n// \t\t\tlocalGeocoder: coordinatesGeocoder,\n// \t\t\tzoom: 5,\n// \t\t\tplaceholder: 'Try: -40, 170',\n// \t\t\treverseGeocode: true\n// \t\t})\n// \t\treturn control\n// \t},{\n// \t\tposition: props.position\n// \t}\n// \t)\n// }\n\n// const noop = () => {};\n\n// GeocoderControl.defaultProps = {\n//   marker: true,\n//   onLoading: noop,\n//   onResults: noop,\n//   onResult: noop,\n//   onError: noop\n// };\n\n// export default GeocoderControl;\n\nimport * as React from 'react';\nimport {useState} from 'react';\nimport {useControl, Marker, MarkerProps, ControlPosition} from 'react-map-gl';\nimport MapboxGeocoder, {GeocoderOptions} from '@mapbox/mapbox-gl-geocoder';\n\nexport default function GeocoderControl(props) {\n  const [marker, setMarker] = useState(null);\n\n  const geocoder = useControl(\n    () => {\n      const ctrl = new MapboxGeocoder({\n        ...props,\n        marker: false,\n        accessToken: MAPBOX_TOKEN\n      });\n      ctrl.on('loading', props.onLoading);\n      ctrl.on('results', props.onResults);\n      ctrl.on('result', evt => {\n        props.onResult(evt);\n\n        const {result} = evt;\n        const location =\n          result &&\n          (result.center || (result.geometry?.type === 'Point' && result.geometry.coordinates));\n        if (location && props.marker) {\n          setMarker(<Marker {...props.marker} longitude={location[0]} latitude={location[1]} />);\n        } else {\n          setMarker(null);\n        }\n      });\n      ctrl.on('error', props.onError);\n      return ctrl;\n    },\n    {\n      position: props.position\n    }\n  );\n\n  // @ts-ignore (TS2339) private member\n  if (geocoder._map) {\n    if (geocoder.getProximity() !== props.proximity && props.proximity !== undefined) {\n      geocoder.setProximity(props.proximity);\n    }\n    if (geocoder.getRenderFunction() !== props.render && props.render !== undefined) {\n      geocoder.setRenderFunction(props.render);\n    }\n    if (geocoder.getLanguage() !== props.language && props.language !== undefined) {\n      geocoder.setLanguage(props.language);\n    }\n    if (geocoder.getZoom() !== props.zoom && props.zoom !== undefined) {\n      geocoder.setZoom(props.zoom);\n    }\n    if (geocoder.getFlyTo() !== props.flyTo && props.flyTo !== undefined) {\n      geocoder.setFlyTo(props.flyTo);\n    }\n    if (geocoder.getPlaceholder() !== props.placeholder && props.placeholder !== undefined) {\n      geocoder.setPlaceholder(props.placeholder);\n    }\n    if (geocoder.getCountries() !== props.countries && props.countries !== undefined) {\n      geocoder.setCountries(props.countries);\n    }\n    if (geocoder.getTypes() !== props.types && props.types !== undefined) {\n      geocoder.setTypes(props.types);\n    }\n    if (geocoder.getMinLength() !== props.minLength && props.minLength !== undefined) {\n      geocoder.setMinLength(props.minLength);\n    }\n    if (geocoder.getLimit() !== props.limit && props.limit !== undefined) {\n      geocoder.setLimit(props.limit);\n    }\n    if (geocoder.getFilter() !== props.filter && props.filter !== undefined) {\n      geocoder.setFilter(props.filter);\n    }\n    if (geocoder.getOrigin() !== props.origin && props.origin !== undefined) {\n      geocoder.setOrigin(props.origin);\n    }\n    // Types missing from @types/mapbox__mapbox-gl-geocoder\n    // if (geocoder.getAutocomplete() !== props.autocomplete && props.autocomplete !== undefined) {\n    //   geocoder.setAutocomplete(props.autocomplete);\n    // }\n    // if (geocoder.getFuzzyMatch() !== props.fuzzyMatch && props.fuzzyMatch !== undefined) {\n    //   geocoder.setFuzzyMatch(props.fuzzyMatch);\n    // }\n    // if (geocoder.getRouting() !== props.routing && props.routing !== undefined) {\n    //   geocoder.setRouting(props.routing);\n    // }\n    // if (geocoder.getWorldview() !== props.worldview && props.worldview !== undefined) {\n    //   geocoder.setWorldview(props.worldview);\n    // }\n  }\n  return marker;\n}\n\nconst noop = () => {};\n\nGeocoderControl.defaultProps = {\n  marker: true,\n  onLoading: noop,\n  onResults: noop,\n  onResult: noop,\n  onError: noop\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}