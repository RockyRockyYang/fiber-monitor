{"ast":null,"code":"var _jsxFileName = \"/Users/ywang/Desktop/fiber_monitor_display/frontend/src/store/routes-context.js\",\n  _s = $RefreshSig$();\nimport { createContext, useEffect, useState } from 'react';\nimport useFetch from \"../Api/Api\";\nimport { BACKEND_SERVER } from '../Const';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const RoutesContext = /*#__PURE__*/createContext({\n  routes: null\n});\nexport const RoutesContextProvider = props => {\n  _s();\n  const [routes, setRoutes] = useState(null);\n  const {\n    data: routeData,\n    loading: routeLoading\n  } = useFetch(BACKEND_SERVER + 'routes');\n  useEffect(() => {\n    if (!routeLoading) {\n      if (routeData.success) {\n        const routesGeojson = routeData.res.map(route => {\n          return {\n            \"type\": \"FeatureCollection\",\n            \"features\": [{\n              \"type\": \"Feature\",\n              \"properties\": {\n                \"name\": route.name\n              },\n              \"geometry\": route.geometry\n            }]\n          };\n        })[0]; // might change if multiple route applies\n        setRoutes(routesGeojson);\n        console.log('rrr', routesGeojson);\n      }\n    }\n  }, [routeLoading, routeData]);\n  return /*#__PURE__*/_jsxDEV(RoutesContext.Provider, {\n    value: {\n      routes: routes\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n};\n_s(RoutesContextProvider, \"AtBckJIUTCuHyuCPZ1qRn/gHPCo=\", false, function () {\n  return [useFetch];\n});\n_c = RoutesContextProvider;\nexport default RoutesContext;\nvar _c;\n$RefreshReg$(_c, \"RoutesContextProvider\");","map":{"version":3,"names":["createContext","useEffect","useState","useFetch","BACKEND_SERVER","jsxDEV","_jsxDEV","RoutesContext","routes","RoutesContextProvider","props","_s","setRoutes","data","routeData","loading","routeLoading","success","routesGeojson","res","map","route","name","geometry","console","log","Provider","value","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/ywang/Desktop/fiber_monitor_display/frontend/src/store/routes-context.js"],"sourcesContent":["import { createContext, useEffect, useState } from 'react';\nimport useFetch from \"../Api/Api\"\nimport { BACKEND_SERVER } from '../Const'\n\nexport const RoutesContext = createContext({\n  routes: null\n})\n\nexport const RoutesContextProvider = (props) => {\n  const [routes, setRoutes] = useState(null)\n\n  const {data: routeData, loading: routeLoading, } = useFetch(BACKEND_SERVER + 'routes')\n  useEffect(() => {\n    if (!routeLoading) {\n      if (routeData.success) {\n        const routesGeojson = routeData.res.map((route) => {\n          return {\n            \"type\": \"FeatureCollection\",\n            \"features\": [{\n              \"type\": \"Feature\",\n              \"properties\": {\n                \"name\": route.name,\n              },\n              \"geometry\": route.geometry\n            }]\n          }\n        })[0]   // might change if multiple route applies\n        setRoutes(routesGeojson)\n        console.log('rrr', routesGeojson)  \n      }\n    }\n  }, [routeLoading, routeData])\n  \n  return (\n    <RoutesContext.Provider\n      value = {{\n        routes: routes\n      }}\n    >\n      {props.children}\n    </RoutesContext.Provider>\n  )\n}\n\nexport default RoutesContext;"],"mappings":";;AAAA,SAASA,aAAa,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC1D,OAAOC,QAAQ,MAAM,YAAY;AACjC,SAASC,cAAc,QAAQ,UAAU;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEzC,OAAO,MAAMC,aAAa,gBAAGP,aAAa,CAAC;EACzCQ,MAAM,EAAE;AACV,CAAC,CAAC;AAEF,OAAO,MAAMC,qBAAqB,GAAIC,KAAK,IAAK;EAAAC,EAAA;EAC9C,MAAM,CAACH,MAAM,EAAEI,SAAS,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EAE1C,MAAM;IAACW,IAAI,EAAEC,SAAS;IAAEC,OAAO,EAAEC;EAAc,CAAC,GAAGb,QAAQ,CAACC,cAAc,GAAG,QAAQ,CAAC;EACtFH,SAAS,CAAC,MAAM;IACd,IAAI,CAACe,YAAY,EAAE;MACjB,IAAIF,SAAS,CAACG,OAAO,EAAE;QACrB,MAAMC,aAAa,GAAGJ,SAAS,CAACK,GAAG,CAACC,GAAG,CAAEC,KAAK,IAAK;UACjD,OAAO;YACL,MAAM,EAAE,mBAAmB;YAC3B,UAAU,EAAE,CAAC;cACX,MAAM,EAAE,SAAS;cACjB,YAAY,EAAE;gBACZ,MAAM,EAAEA,KAAK,CAACC;cAChB,CAAC;cACD,UAAU,EAAED,KAAK,CAACE;YACpB,CAAC;UACH,CAAC;QACH,CAAC,CAAC,CAAC,CAAC,CAAC,EAAG;QACRX,SAAS,CAACM,aAAa,CAAC;QACxBM,OAAO,CAACC,GAAG,CAAC,KAAK,EAAEP,aAAa,CAAC;MACnC;IACF;EACF,CAAC,EAAE,CAACF,YAAY,EAAEF,SAAS,CAAC,CAAC;EAE7B,oBACER,OAAA,CAACC,aAAa,CAACmB,QAAQ;IACrBC,KAAK,EAAI;MACPnB,MAAM,EAAEA;IACV,CAAE;IAAAoB,QAAA,EAEDlB,KAAK,CAACkB;EAAQ;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACQ;AAE7B,CAAC;AAAArB,EAAA,CAlCYF,qBAAqB;EAAA,QAGmBN,QAAQ;AAAA;AAAA8B,EAAA,GAHhDxB,qBAAqB;AAoClC,eAAeF,aAAa;AAAC,IAAA0B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}