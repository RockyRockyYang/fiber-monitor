{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useControl } from 'react-map-gl';\nimport MapboxGeocoder from '@mapbox/mapbox-gl-geocoder';\nimport '@mapbox/mapbox-gl-geocoder/dist/mapbox-gl-geocoder.css';\nimport { MAPBOX_TOKEN } from './MapboxConst';\nfunction GeocoderControl(props) {\n  _s();\n  /* Given a query in the form \"lng, lat\" or \"lat, lng\"\n  * returns the matching geographic coordinate(s)\n  * as search results in carmen geojson format,\n  * https://github.com/mapbox/carmen/blob/master/carmen-geojson.md */\n  const coordinatesGeocoder = function (query) {\n    // Match anything which looks like decimal degrees coordinate pair.\n    const matches = query.match(/^[ ]*(?:Lat: )?(-?\\d+\\.?\\d*)[, ]+(?:Lng: )?(-?\\d+\\.?\\d*)[ ]*$/i);\n    if (!matches) {\n      return null;\n    }\n    function coordinateFeature(lng, lat) {\n      return {\n        center: [lng, lat],\n        geometry: {\n          type: 'Point',\n          coordinates: [lng, lat]\n        },\n        place_name: 'Lat: ' + lat + ' Lng: ' + lng,\n        place_type: ['coordinate'],\n        properties: {},\n        type: 'Feature'\n      };\n    }\n    const coord1 = Number(matches[1]);\n    const coord2 = Number(matches[2]);\n    const geocodes = [];\n    if (coord1 < -90 || coord1 > 90) {\n      // must be lng, lat\n      geocodes.push(coordinateFeature(coord1, coord2));\n    }\n    if (coord2 < -90 || coord2 > 90) {\n      // must be lat, lng\n      geocodes.push(coordinateFeature(coord2, coord1));\n    }\n    if (geocodes.length === 0) {\n      // else could be either lng, lat or lat, lng\n      geocodes.push(coordinateFeature(coord1, coord2));\n      geocodes.push(coordinateFeature(coord2, coord1));\n    }\n    return geocodes;\n  };\n  const geocoder = useControl(() => {\n    const control = new MapboxGeocoder({\n      accessToken: MAPBOX_TOKEN,\n      marker: false,\n      localGeocoder: coordinatesGeocoder,\n      zoom: 8,\n      placeholder: 'Try: 40, -75',\n      reverseGeocode: true\n    });\n    return control;\n  }, {\n    position: props.position\n  });\n}\n_s(GeocoderControl, \"XUUc+S7NaJPEglUVU0OlXqNxjac=\", false, function () {\n  return [useControl];\n});\n_c = GeocoderControl;\nconst noop = () => {};\nGeocoderControl.defaultProps = {\n  marker: false,\n  onLoading: noop,\n  onResults: noop,\n  onResult: noop,\n  onError: noop\n};\nexport default GeocoderControl;\nvar _c;\n$RefreshReg$(_c, \"GeocoderControl\");","map":{"version":3,"names":["useControl","MapboxGeocoder","MAPBOX_TOKEN","GeocoderControl","props","_s","coordinatesGeocoder","query","matches","match","coordinateFeature","lng","lat","center","geometry","type","coordinates","place_name","place_type","properties","coord1","Number","coord2","geocodes","push","length","geocoder","control","accessToken","marker","localGeocoder","zoom","placeholder","reverseGeocode","position","_c","noop","defaultProps","onLoading","onResults","onResult","onError","$RefreshReg$"],"sources":["/Users/ywang/Desktop/fiber_monitor_display/frontend/src/components/Map/GeocoderControl.js"],"sourcesContent":["import {useControl} from 'react-map-gl';\nimport MapboxGeocoder from '@mapbox/mapbox-gl-geocoder';\nimport '@mapbox/mapbox-gl-geocoder/dist/mapbox-gl-geocoder.css';\nimport { MAPBOX_TOKEN } from './MapboxConst'\n\nfunction GeocoderControl(props) {\n\t/* Given a query in the form \"lng, lat\" or \"lat, lng\"\n\t* returns the matching geographic coordinate(s)\n\t* as search results in carmen geojson format,\n\t* https://github.com/mapbox/carmen/blob/master/carmen-geojson.md */\n\tconst coordinatesGeocoder = function (query) {\n\t\t// Match anything which looks like decimal degrees coordinate pair.\n\t\tconst matches = query.match(\n\t\t\t/^[ ]*(?:Lat: )?(-?\\d+\\.?\\d*)[, ]+(?:Lng: )?(-?\\d+\\.?\\d*)[ ]*$/i\n\t\t);\n\t\tif (!matches) {\n\t\t\treturn null;\n\t\t}\n\t\tfunction coordinateFeature(lng, lat) {\n\t\t\treturn {\n\t\t\t\tcenter: [lng, lat],\n\t\t\t\tgeometry: {\n\t\t\t\t\ttype: 'Point',\n\t\t\t\t\tcoordinates: [lng, lat]\n\t\t\t\t},\n\t\t\t\tplace_name: 'Lat: ' + lat + ' Lng: ' + lng,\n\t\t\t\tplace_type: ['coordinate'],\n\t\t\t\tproperties: {},\n\t\t\t\ttype: 'Feature'\n\t\t\t};\n\t\t}\n\t\tconst coord1 = Number(matches[1]);\n\t\tconst coord2 = Number(matches[2]);\n\t\tconst geocodes = [];\n\t\t\n\t\tif (coord1 < -90 || coord1 > 90) {\n\t\t\t// must be lng, lat\n\t\t\tgeocodes.push(coordinateFeature(coord1, coord2));\n\t\t}\n\t\tif (coord2 < -90 || coord2 > 90) {\n\t\t\t// must be lat, lng\n\t\t\tgeocodes.push(coordinateFeature(coord2, coord1));\n\t\t}\n\t\tif (geocodes.length === 0) {\n\t\t\t// else could be either lng, lat or lat, lng\n\t\t\tgeocodes.push(coordinateFeature(coord1, coord2));\n\t\t\tgeocodes.push(coordinateFeature(coord2, coord1));\n\t\t}\n\t\treturn geocodes;\n\t}; \n\n\tconst geocoder = useControl(() => {\n\t\tconst control = new MapboxGeocoder({\n\t\t\taccessToken: MAPBOX_TOKEN,\n\t\t\tmarker: false,\n\t\t\tlocalGeocoder: coordinatesGeocoder,\n\t\t\tzoom: 8,\n\t\t\tplaceholder: 'Try: 40, -75',\n\t\t\treverseGeocode: true\n\t\t})\n\t\treturn control\n\t},{\n\t\tposition: props.position\n\t}\n\t)\n}\n\nconst noop = () => {};\n\nGeocoderControl.defaultProps = {\n  marker: false,\n  onLoading: noop,\n  onResults: noop,\n  onResult: noop,\n  onError: noop\n};\n\nexport default GeocoderControl;"],"mappings":";AAAA,SAAQA,UAAU,QAAO,cAAc;AACvC,OAAOC,cAAc,MAAM,4BAA4B;AACvD,OAAO,wDAAwD;AAC/D,SAASC,YAAY,QAAQ,eAAe;AAE5C,SAASC,eAAeA,CAACC,KAAK,EAAE;EAAAC,EAAA;EAC/B;AACD;AACA;AACA;EACC,MAAMC,mBAAmB,GAAG,SAAAA,CAAUC,KAAK,EAAE;IAC5C;IACA,MAAMC,OAAO,GAAGD,KAAK,CAACE,KAAK,CAC1B,gEAAgE,CAChE;IACD,IAAI,CAACD,OAAO,EAAE;MACb,OAAO,IAAI;IACZ;IACA,SAASE,iBAAiBA,CAACC,GAAG,EAAEC,GAAG,EAAE;MACpC,OAAO;QACNC,MAAM,EAAE,CAACF,GAAG,EAAEC,GAAG,CAAC;QAClBE,QAAQ,EAAE;UACTC,IAAI,EAAE,OAAO;UACbC,WAAW,EAAE,CAACL,GAAG,EAAEC,GAAG;QACvB,CAAC;QACDK,UAAU,EAAE,OAAO,GAAGL,GAAG,GAAG,QAAQ,GAAGD,GAAG;QAC1CO,UAAU,EAAE,CAAC,YAAY,CAAC;QAC1BC,UAAU,EAAE,CAAC,CAAC;QACdJ,IAAI,EAAE;MACP,CAAC;IACF;IACA,MAAMK,MAAM,GAAGC,MAAM,CAACb,OAAO,CAAC,CAAC,CAAC,CAAC;IACjC,MAAMc,MAAM,GAAGD,MAAM,CAACb,OAAO,CAAC,CAAC,CAAC,CAAC;IACjC,MAAMe,QAAQ,GAAG,EAAE;IAEnB,IAAIH,MAAM,GAAG,CAAC,EAAE,IAAIA,MAAM,GAAG,EAAE,EAAE;MAChC;MACAG,QAAQ,CAACC,IAAI,CAACd,iBAAiB,CAACU,MAAM,EAAEE,MAAM,CAAC,CAAC;IACjD;IACA,IAAIA,MAAM,GAAG,CAAC,EAAE,IAAIA,MAAM,GAAG,EAAE,EAAE;MAChC;MACAC,QAAQ,CAACC,IAAI,CAACd,iBAAiB,CAACY,MAAM,EAAEF,MAAM,CAAC,CAAC;IACjD;IACA,IAAIG,QAAQ,CAACE,MAAM,KAAK,CAAC,EAAE;MAC1B;MACAF,QAAQ,CAACC,IAAI,CAACd,iBAAiB,CAACU,MAAM,EAAEE,MAAM,CAAC,CAAC;MAChDC,QAAQ,CAACC,IAAI,CAACd,iBAAiB,CAACY,MAAM,EAAEF,MAAM,CAAC,CAAC;IACjD;IACA,OAAOG,QAAQ;EAChB,CAAC;EAED,MAAMG,QAAQ,GAAG1B,UAAU,CAAC,MAAM;IACjC,MAAM2B,OAAO,GAAG,IAAI1B,cAAc,CAAC;MAClC2B,WAAW,EAAE1B,YAAY;MACzB2B,MAAM,EAAE,KAAK;MACbC,aAAa,EAAExB,mBAAmB;MAClCyB,IAAI,EAAE,CAAC;MACPC,WAAW,EAAE,cAAc;MAC3BC,cAAc,EAAE;IACjB,CAAC,CAAC;IACF,OAAON,OAAO;EACf,CAAC,EAAC;IACDO,QAAQ,EAAE9B,KAAK,CAAC8B;EACjB,CAAC,CACA;AACF;AAAC7B,EAAA,CA5DQF,eAAe;EAAA,QA8CNH,UAAU;AAAA;AAAAmC,EAAA,GA9CnBhC,eAAe;AA8DxB,MAAMiC,IAAI,GAAGA,CAAA,KAAM,CAAC,CAAC;AAErBjC,eAAe,CAACkC,YAAY,GAAG;EAC7BR,MAAM,EAAE,KAAK;EACbS,SAAS,EAAEF,IAAI;EACfG,SAAS,EAAEH,IAAI;EACfI,QAAQ,EAAEJ,IAAI;EACdK,OAAO,EAAEL;AACX,CAAC;AAED,eAAejC,eAAe;AAAC,IAAAgC,EAAA;AAAAO,YAAA,CAAAP,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}